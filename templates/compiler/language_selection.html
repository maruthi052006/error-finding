{% extends 'base.html' %}
{% block title %}Select Language - Bug Buster{% endblock %}

{% block content %}
<div class="auth-card glass-panel" style="max-width: 600px;">
    <h2>{{ round.name }}</h2>
    <p class="subtitle" style="color: var(--danger-color); font-weight: bold;">Warning: Language selection is permanent
        for this round.</p>

    <form method="post" class="auth-form" style="margin-top: 2rem;">
        {% csrf_token %}
        <div style="display: flex; gap: 2rem; justify-content: center; margin-bottom: 2rem;">
            <label
                style="cursor: pointer; text-align: center; padding: 2rem; border: 2px solid var(--glass-border); border-radius: 8px; width: 100%;">
                <input type="radio" name="language" value="C" required style="display: none;">
                <h3 style="color: var(--primary-color);">C (GCC)</h3>
            </label>
            <label
                style="cursor: pointer; text-align: center; padding: 2rem; border: 2px solid var(--glass-border); border-radius: 8px; width: 100%;">
                <input type="radio" name="language" value="Python" required style="display: none;">
                <h3 style="color: #f6d03d;">Python 3</h3>
            </label>
        </div>

        <button type="submit" class="btn btn-primary btn-block" style="font-size: 1.2rem;">Confirm & Start
            Timer</button>
        <a href="{% url 'participant_dashboard' %}" class="btn btn-outline btn-block"
            style="margin-top: 1rem; text-align: center; display: inline-block;">Cancel</a>
    </form>
</div>

<script>
    document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.addEventListener('change', function () {
            document.querySelectorAll('label').forEach(l => l.style.borderColor = 'var(--glass-border)');
            this.parentElement.style.borderColor = 'var(--accent-color)';
        });
    });
</script>
{% endblock %}